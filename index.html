<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de Progresso dos Estudos</title>
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.7/inputmask.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen flex items-center justify-center p-6">
  <div class="bg-white shadow-xl rounded-2xl p-8 max-w-xl w-full">
    <h1 class="text-2xl font-bold mb-4 text-center">üìö Calculadora de Progresso</h1>

    <label for="data" class="block text-sm font-medium text-gray-700 mb-1">Selecione a data:</label>
    <input type="text" id="data" placeholder="dd/mm/aaaa"
      class="w-full p-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500" />

    <button onclick="calcularProgresso()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
      Calcular
    </button>

    <div id="resultado" class="mt-6 bg-gray-50 p-4 rounded-lg border border-gray-200 hidden"></div>
  </div>

  <script>
    // Aplica m√°scara dd/mm/aaaa
    Inputmask("99/99/9999").mask("#data");

    const dataInicio = new Date("2025-07-27");
    const dataCasamento = new Date("2026-05-16");
    const fimAulas = new Date("2025-12-31");
    const fimMentorias = new Date("2025-10-31");

    function formatarDataBR(data) {
      const dia = String(data.getDate()).padStart(2, '0');
      const mes = String(data.getMonth() + 1).padStart(2, '0');
      const ano = data.getFullYear();
      return `${dia}/${mes}/${ano}`;
    }

    function calcularProgresso() {
      const inputData = document.getElementById("data").value;
      const partes = inputData.split("/");

      if (partes.length !== 3) {
        alert("Por favor, insira uma data v√°lida no formato dd/mm/aaaa.");
        return;
      }

      const dia = parseInt(partes[0], 10);
      const mes = parseInt(partes[1], 10) - 1; // meses come√ßam do zero
      const ano = parseInt(partes[2], 10);
      const dataSelecionada = new Date(ano, mes, dia);

      if (isNaN(dataSelecionada.getTime())) {
        alert("Data inv√°lida.");
        return;
      }

      const diasDesdeInicio = Math.floor((dataSelecionada - dataInicio) / (1000 * 60 * 60 * 24));
      const diasParaCasamento = Math.floor((dataCasamento - dataSelecionada) / (1000 * 60 * 60 * 24));

      const totalDiasAulas = Math.floor((fimAulas - dataInicio) / (1000 * 60 * 60 * 24));
      const totalDiasMentorias = Math.floor((fimMentorias - dataInicio) / (1000 * 60 * 60 * 24));

      const aulasDia = 650 / totalDiasAulas;
      const exerciciosDia = 200 / totalDiasAulas;
      const mentoriasDia = 163 / totalDiasMentorias;

      const aulasDeveriaTerFeito = Math.max(0, Math.round(diasDesdeInicio * aulasDia));
      const exerciciosDeveriaTerFeito = Math.max(0, Math.round(diasDesdeInicio * exerciciosDia));
      const mentoriasDeveriaTerFeito = Math.max(0, Math.round(diasDesdeInicio * mentoriasDia));

      document.getElementById("resultado").classList.remove("hidden");
      document.getElementById("resultado").innerHTML = `
        <h2 class="text-xl font-semibold mb-2">üìÖ Resultado para ${formatarDataBR(dataSelecionada)}</h2>
        <ul class="space-y-2">
          <li>üìñ Aulas que deveria ter feito: <span class="font-bold text-blue-600">${aulasDeveriaTerFeito}</span></li>
          <li>üíª Exerc√≠cios que deveria ter feito: <span class="font-bold text-green-600">${exerciciosDeveriaTerFeito}</span></li>
          <li>üéì Mentorias que deveria ter feito: <span class="font-bold text-purple-600">${mentoriasDeveriaTerFeito}</span></li>
          <li>üíç Dias restantes para o casamento: <span class="font-bold text-pink-600">${diasParaCasamento}</span></li>
        </ul>
      `;
    }
  </script>
</body>
</html>
